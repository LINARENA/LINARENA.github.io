<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>linux_0x06 Heap 구조(malloc, free)</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="shortcut icon" type="image/x-icon" href="https://linarena.com/favicon.ico" >
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="LIN ARENA Technology Blog" />
    <link rel="shortcut icon" href="http://localhost:4000/" type="image/png" />
    <link rel="canonical" href="http://localhost:4000/linux_0x06" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="LIN ARENA" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="linux_0x06 Heap 구조(malloc, free)" />
    <meta property="og:description" content="Heap 구조(malloc, free) 안녕하세요. Sulla임돠. 이번 포스팅 부터는 Heap BOF에 대해서 찬찬히 알아가도록 하겠슴돠. 먼저 지금까지 알아봤던 Stack과 앞으로 알아갈 Heap에 대해서 간단하게 비교 해보도록 합죠. 위 차이 말고도 여러 차이가 있습니다만 이정도만 짚고 넘어가도록 하겠습니다. 위 특징중 몇 가지 짚고 넘어가야할 내용이 있으니 조금더 알아보도록 하겠습니다. 먼저 “동적 메모리”라는" />
    <meta property="og:url" content="http://localhost:4000/linux_0x06" />
    <meta property="og:image" content="http://localhost:4000/assets/images/linux/0x06/0x06-7.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2019-07-01T04:50:00+09:00" />
    <meta property="article:modified_time" content="2019-07-01T04:50:00+09:00" />
    <meta property="article:tag" content="Posts" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="linux_0x06 Heap 구조(malloc, free)" />
    <meta name="twitter:description" content="Heap 구조(malloc, free) 안녕하세요. Sulla임돠. 이번 포스팅 부터는 Heap BOF에 대해서 찬찬히 알아가도록 하겠슴돠. 먼저 지금까지 알아봤던 Stack과 앞으로 알아갈 Heap에 대해서 간단하게 비교 해보도록 합죠. 위 차이 말고도 여러 차이가 있습니다만 이정도만 짚고 넘어가도록 하겠습니다. 위 특징중 몇 가지 짚고 넘어가야할 내용이 있으니 조금더 알아보도록 하겠습니다. 먼저 “동적 메모리”라는" />
    <meta name="twitter:url" content="http://localhost:4000/" />
    <meta name="twitter:image" content="http://localhost:4000/assets/images/linux/0x06/0x06-7.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="LIN ARENA" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Posts" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "LIN ARENA",
        "logo": "http://localhost:4000/"
    },
    "url": "http://localhost:4000/linux_0x06",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:4000/assets/images/linux/0x06/0x06-7.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/linux_0x06"
    },
    "description": "Heap 구조(malloc, free) 안녕하세요. Sulla임돠. 이번 포스팅 부터는 Heap BOF에 대해서 찬찬히 알아가도록 하겠슴돠. 먼저 지금까지 알아봤던 Stack과 앞으로 알아갈 Heap에 대해서 간단하게 비교 해보도록 합죠. 위 차이 말고도 여러 차이가 있습니다만 이정도만 짚고 넘어가도록 하겠습니다. 위 특징중 몇 가지 짚고 넘어가야할 내용이 있으니 조금더 알아보도록 하겠습니다. 먼저 “동적 메모리”라는"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="linux_0x06 Heap 구조(malloc, free)" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://linarena.github.io/">LIN ARENA</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-Posts" role="menuitem"><a href="/tag/posts/">Posts</a></li>
    <!--<li class="nav-try-ghost" role="menuitem"><a href="https://ghost.org">Try Ghost</a></li>-->
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-linux ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 1 July 2019"> 1 July 2019</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/posts/'>POSTS</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">linux_0x06 Heap 구조(malloc, free)</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/images/linux/0x06/0x06-7.png)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h1 id="heap-구조malloc-free">Heap 구조(malloc, free)</h1>

<p>안녕하세요. Sulla임돠.</p>

<p>이번 포스팅 부터는 Heap BOF에 대해서 찬찬히 알아가도록 하겠슴돠.</p>

<p>먼저 지금까지 알아봤던 Stack과 앞으로 알아갈 Heap에 대해서 간단하게 비교 해보도록 합죠.</p>

<figure>
  <img data-action="zoom" src="/assets/images/linux/0x06/0x06-1.png" alt="[그림 6-1]" />
</figure>

<p>위 차이 말고도 여러 차이가 있습니다만 이정도만 짚고 넘어가도록 하겠습니다. 위 특징중 몇 가지 짚고 넘어가야할 내용이 있으니 조금더 알아보도록 하겠습니다.</p>

<p>먼저 “동적 메모리”라는 특징이 있습니다. Stack의 경우 메모리 공간이 정적으로 할당 됩니다. 반대로 Heap의 경우는 동적으로 메모리를 할당 받습니다.</p>

<p>또한 Stack의 경우 함수 종료 시 자동으로 해제되는 반면 Heap의 경우는 사용자가 직접 관리해야 합니다. 이 때 대표적으로 사용되는 함수가 메모리 할당은 malloc(), calloc(), realloc() 함수, 해제는 free() 함수를 대표적으로 사용합니다.</p>

<p>malloc() 함수를 사용해서 필요한 heap 영역을 할당 해주며, 다 쓰고 더이상 필요 없는 heap 영역은 free() 함수로 해제해야 하는 것이죠. 필요한 만큼 공간을 잡고 다쓰면 뺴야 되는것이죠.</p>

<p>한마디로 Heap 영역은 사용자가 동적으로 메모리 공간을 할당/해제 하는 영역입니다.</p>

<p>Heap 보는김이 조금 더 자세하게 보도록 하겠습니다</p>

<h1 id="조금-더-자세한-heap">조금 더 자세한 Heap</h1>

<p>엉덩…Heap을 자세히 보도록 하겠습니다. (언제나 그랬듯….필요한 내용만 쏙쏙 보도록 하겠습니다.)</p>

<p>위에서 malloc() 으로 메모리 공간을 동적으로 할당하고 다쓰고 필요없는 공간은 free()로 해제 하다고 했습죠.</p>

<p>그 내용을 한 번 자세히 보도록 하겠습니다.</p>

<figure>
  <img data-action="zoom" src="/assets/images/linux/0x06/0x06-2.png" alt="[그림 6-2]" />
</figure>

<p>위 그림은 malloc()을 사용해 할당했을 경우의 모습을 보여줍니다. 그런데 chunk라는 모르는 이름이 보이는데 뭐하는 친구일까요??</p>

<p>chunk는 Heap에 할당되는 영역을 가리키는 이름입니다. 쉽게 말해 malloc() 함수로 할당하면 메모리의 Heap 영역에는 chunk라는 이름으로 할당 되는 것이지욥.</p>

<p>그럼 <strong>chunk</strong>가 어떻게 생겨먹었는지 보도록 하겠습니다.</p>

<figure>
  <img data-action="zoom" src="/assets/images/linux/0x06/0x06-3.png" alt="[그림 6-3]" />
</figure>

<p>우선 <strong>malloc()</strong>으로 heap 영역에 chunk가 할당 되었을때입니다. chunk는 8byte 크기로 할당 받으며(64bit OS는 16byte) 위와 같은 모습을 하고 있습니다.</p>

<p><strong>prev_size</strong>는 이전 chunk의 크기를 나타내주며 free() 시에 생성 됩니다. 당연히 첫 chunk는 이전 chunk가 없기에 0이 들어가있습니다.</p>

<p><strong>size</strong>는 현재 chunk의 크기를 담고 있으며 malloc() 시에 생성 됩니다.</p>

<p><strong>AMP</strong>는 플래그 필드이며 각 플래그는 아래와 같습니다.</p>

<p><strong>A : NON_MAIN_ARENA</strong>
multi thread application에서 각 thread 마다 다른 heap 영역을 사용하는 경우 현재 chunk가 main heap( arena)에 속하는지 여부를 나타냅니다. (main heap = 0 / mmap’d memory = 1)</p>

<p><strong>M : IS_MMAPPED</strong>
chunk 자체가 단일 mmap() 시스템 콜을 통해 할당되었을 때 셋팅 됩니다.</p>

<p><strong>P : PREV_INUSE</strong>
이전 chunk의 상태를 나타내줍니다. (chunk using = 1 / chunk free = 0)</p>

<p><strong>data</strong>는 실제로 데이터가 들어가는 영역입니다. 입력값이 들어간다 생각하면 편하겠습니다.</p>

<p>다음은 <strong>free()</strong>로 해제 되었을 때 모습을 보도록 하겠습니다.</p>

<figure>
  <img data-action="zoom" src="/assets/images/linux/0x06/0x06-4.png" alt="[그림 6-4]" />
</figure>

<p>이전과 조금 달라진 모습이 보입니다. data영역이 <strong>fd</strong>/<strong>bk</strong> 라는 생소한 공간이 생겼습니다. 이름을 보고 대충 감이 오시는 분도 있을거라 생각 됩니다. forward / backward이 연상 되시는 분들이 있을거라 생각 되네요.</p>

<p><strong>fd : (forward pointer)</strong> free된 다음 chunk를 가리킵니다. (data 영역의 앞 4byte)</p>

<p><strong>bk : (backward pointer)</strong> free된 이전 chunk를 가리킵니다. (data 영역의 뒤 4byte)</p>

<p>fd/bk를 참조하여 free된 heap 영역을 확인하는 구조입니다. 또한 위에서 언급한 플래그 값도 변할 것입니다. (<strong>PREV_INUSE</strong>) 이제 fd/bk에 대해서 후에 해볼 공격 기법을 위해 미리 조금더 알아 보도록 하겠습니다.</p>

<figure>
  <img data-action="zoom" src="/assets/images/linux/0x06/0x06-5.png" alt="[그림 6-5]" />
</figure>

<p>위에서 보았던 내용을 좀금 수정 해봤습니다. A~E 까지 malloc()으로 할당 해주고 A, C, E만 free()로 해제 한 상태입니다. 이때 fd/bk가 어떤 모냥인지 보도록 하겠습니다.</p>

<figure>
  <img data-action="zoom" src="/assets/images/linux/0x06/0x06-6.png" alt="[그림 6-6]" />
</figure>

<p>A, C, E 가 free()로 해제 되면서 fd/bk는 위 그림과 같이 링크를 갖게 됩니다. 이것을 <strong>double linked list</strong> 라고 부르며 이 내용 또한 니중에 다시 다루게 될것입니다. 지금은 시작이기에 이런식으로 구성 되어있다는 정도만 알고 가시면 될 듯 합니다.</p>

<figure>
  <img data-action="zoom" src="/assets/images/linux/0x06/0x06-7.png" alt="[그림 6-7]" />
</figure>

<p>지금까지 Heap 영역에 malloc()을 사용하여 할당 받을 경우와 free()를 통한 메모리 해제를 하는 경우 어떤 모습으로 진행 되는지를 알아봤습니다. 다음부터는 free()를 통한 해제를 하지 않을 경우 어떤 일이 생기는지 알아보도록 하겠습니다.</p>

<p>엉덩…Heap도 찬찬히 한 걸음씩 가보도록 하겠습니다.</p>

<p>고생하셨습니다. 담에 뵙겠숩니다욥!</p>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/images/CI_Logo.jpg" alt="Sulla" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/Sulla">Sulla</a></h4>
                                
                                    <p>ksh@linarena.com</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/Sulla">Read More</a>
                        </div>
                    
                
                    
                
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/images/lin_logo.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; LIN ARENA &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/posts/">Posts</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/linux_0x07">linux_0x07 UAF(Use After Free) - 1부</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/windows-0x0e">CVE-2012-4782</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/windows-0x0d">Heap Spray</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/posts/">
                                
                                    See all 31 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/windows-0x0e">
                <div class="post-card-image" style="background-image: url(/assets/images/windows/0x0e_6.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/windows-0x0e">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Posts</span>
                            
                        
                    

                    <h2 class="post-card-title">CVE-2012-4782</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/CI_Logo.jpg" alt="Joel Park" />
                        
                        <span class="post-card-author">
                            <a href="/author/Joel/">Joel Park</a>
                        </span>
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/windows-0x0d">
                <div class="post-card-image" style="background-image: url(/assets/images/windows/0x0d_16.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/windows-0x0d">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Posts</span>
                            
                        
                    

                    <h2 class="post-card-title">Heap Spray</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/CI_Logo.jpg" alt="Joel Park" />
                        
                        <span class="post-card-author">
                            <a href="/author/Joel/">Joel Park</a>
                        </span>
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="http://localhost:4000/">
            
            <span>LIN ARENA</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">linux_0x06 Heap 구조(malloc, free)</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=linux_0x06+Heap+%EA%B5%AC%EC%A1%B0%28malloc%2C+free%29&amp;url=https://jekyller.github.io/jasper2/linux_0x06"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://jekyller.github.io/jasper2/linux_0x06"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:4000/">LIN ARENA</a> &copy; 2019</section>
                <section class="poweredby">All rights reserved. Powered by GitHub Pages.</section>
                <nav class="site-footer-nav">
                    <a href="/">[Latest Posts]</a>
                    <a href="https://linarena.com/" target="_blank" rel="noopener">[LIN ARENA HOMEPAGE]</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69281367-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
