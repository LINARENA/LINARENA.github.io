<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>linux_0x07 UAF(Use After Free) - 1부</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="shortcut icon" type="image/x-icon" href="https://linarena.com/favicon.ico" >
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="LIN ARENA Technology Blog" />
    <link rel="shortcut icon" href="http://localhost:4000/" type="image/png" />
    <link rel="canonical" href="http://localhost:4000/linux_0x07" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="LIN ARENA" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="linux_0x07 UAF(Use After Free) - 1부" />
    <meta property="og:description" content="UAF(Use After Free) - 1부 안녕하심꽈 Sulla임돠. 오늘은 UAF(Use After Free)라는 Heap영역에서 발생하는 버그를 이용한 공격 기법을 알아 보겠습니다. 앞 선 포스트에서 Heap 구조를 설명 드릴 때 malloc() 함수 등으로 Heap 영역을 할당 받은 후에 반드시 해야하는 행위가 있다 했습니다. 바로 Free()라고 하는 함수를 사용해서 할당 받은 Heap영역을 해제 해야" />
    <meta property="og:url" content="http://localhost:4000/linux_0x07" />
    <meta property="og:image" content="http://localhost:4000/assets/images/linux/0x07/0x07-2.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2019-07-27T06:10:00+09:00" />
    <meta property="article:modified_time" content="2019-07-27T06:10:00+09:00" />
    <meta property="article:tag" content="Posts" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="linux_0x07 UAF(Use After Free) - 1부" />
    <meta name="twitter:description" content="UAF(Use After Free) - 1부 안녕하심꽈 Sulla임돠. 오늘은 UAF(Use After Free)라는 Heap영역에서 발생하는 버그를 이용한 공격 기법을 알아 보겠습니다. 앞 선 포스트에서 Heap 구조를 설명 드릴 때 malloc() 함수 등으로 Heap 영역을 할당 받은 후에 반드시 해야하는 행위가 있다 했습니다. 바로 Free()라고 하는 함수를 사용해서 할당 받은 Heap영역을 해제 해야" />
    <meta name="twitter:url" content="http://localhost:4000/" />
    <meta name="twitter:image" content="http://localhost:4000/assets/images/linux/0x07/0x07-2.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="LIN ARENA" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Posts" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "LIN ARENA",
        "logo": "http://localhost:4000/"
    },
    "url": "http://localhost:4000/linux_0x07",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:4000/assets/images/linux/0x07/0x07-2.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/linux_0x07"
    },
    "description": "UAF(Use After Free) - 1부 안녕하심꽈 Sulla임돠. 오늘은 UAF(Use After Free)라는 Heap영역에서 발생하는 버그를 이용한 공격 기법을 알아 보겠습니다. 앞 선 포스트에서 Heap 구조를 설명 드릴 때 malloc() 함수 등으로 Heap 영역을 할당 받은 후에 반드시 해야하는 행위가 있다 했습니다. 바로 Free()라고 하는 함수를 사용해서 할당 받은 Heap영역을 해제 해야"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="linux_0x07 UAF(Use After Free) - 1부" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://linarena.github.io/">LIN ARENA</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-Posts" role="menuitem"><a href="/tag/posts/">Posts</a></li>
    <!--<li class="nav-try-ghost" role="menuitem"><a href="https://ghost.org">Try Ghost</a></li>-->
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-linux ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="27 July 2019">27 July 2019</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/posts/'>POSTS</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">linux_0x07 UAF(Use After Free) - 1부</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/images/linux/0x07/0x07-2.png)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h1 id="uafuse-after-free---1부">UAF(Use After Free) - 1부</h1>

<p>안녕하심꽈 Sulla임돠.</p>

<p>오늘은 <strong>UAF(Use After Free)</strong>라는 <strong>Heap</strong>영역에서 발생하는 버그를 이용한 공격 기법을 알아 보겠습니다.</p>

<p>앞 선 포스트에서 <strong>Heap</strong> 구조를 설명 드릴 때 <strong>malloc()</strong> 함수 등으로 Heap 영역을 <strong>할당</strong> 받은 후에 반드시 해야하는 행위가 있다 했습니다. 
바로 <strong>Free()</strong>라고 하는 함수를 사용해서 할당 받은 Heap영역을 <strong>해제</strong> 해야 한다고 알려 드렸습니다.
할당 받고 다 쓴 영역을 다시 반납하는 과정이지요.
(도서관에서 책을 빌려보고 다 봤으니 반납하는 책 대여 시스템을 생각하시면 됩니다.)
그런데 왜 이 짓거리에서 버그가 발생하고 이를 이용해 취약점으로 사용할까요?</p>

<p>언제나 그랬듯 이해를 위한 간단한 그림으로 알아보도록 하겠습니다.</p>

<figure>
  <img data-action="zoom" src="/assets/images/linux/0x07/0x07-1.png" alt="[그림 7-1]" />
</figure>

<p>위 그림에서 보이듯 A 이름으로 malloc()으로 8byte 할당 받고 “AAAA”를 저장해 두고 A를 출력 하면 A에 저장해 두었던 “AAAA” 가 출력 될것입니다.</p>

<p>그 다음 할당 받은 A를 free()로 해제 시켜준 후 같은 8byte로 B이름으로 할당 받았습니다. 이 때 A에서와는 다르게 문자를 저장 하지 않았습니다.</p>

<p>이 상태에서 B를 출력 하면 어떤 값이 나올까요????</p>

<figure>
  <img data-action="zoom" src="/assets/images/linux/0x07/0x07-2.png" alt="[그림 7-2]" />
</figure>

<p><strong>AAAA</strong>가 됩니다. 앞에서 저장 했던 chunk A에 저장 되있던 AAAA가 free를 한 후에도 사라지지 않고 그대로 남아있다가 같은 크기로 새롭게 할당받은 영역 B에서까지 그대로 남아있는 상태며 출력까지도 되는 모습입니다.</p>

<p>정리하자면, A를 malloc()으로 할당 하여 chunk를 생성하고 A에 12345를 저장 후 free()로 A를 해제하고 B를 A와 같은 크기로 malloc()을 이용해 chunk를 생성한다. 이 때 12345는 저장 하지 않은 상태로 B에 저장된 값을 호출하면 A에 저장되어있던 12345가 출력됩니다. 
free()로 해제한 상태인데도 기존에 저장되어있던 값이 그대로 호출 됩니다. 주소값 또한 B의 chunk 주소는 이미 free()로 해제한 A의 chunk주소와 동일한 상태입죠.</p>

<p>두 가지의 이유로 저렇게 같은 공간으로 재할당 받게 됩니다.</p>

<ol>
  <li><strong>효율 적인 공간 관리를 위하여</strong>
<strong>병합 지연</strong>(<strong>Deferred Coalescing</strong>)이라고 하며 해제된후 다시 할당 받을 때 Heap 영역을 병합, 분할하는 시간을 줄이기 위해서 해제된 영역을 그대로 보관 합니다.</li>
  <li><strong>메모리 할당 알고리즘</strong>
<strong>최소 적합</strong>(<strong>first fit</strong>)이라고 하며 Heap은 해제를 효율적으로 운영하기 위해 <strong>Bin</strong>이라는 구조를 사용 합니다. 즉 할당 받은 영역을 free하게 되면 <strong>Bin</strong>에 저장된다 생각하시면 됩니다. 이 <strong>Bin</strong>에서 사용되는 알고리즘 중 하나가 <strong>최소 적합 알고리즘</strong>이며(first fit 외에 다른 알고리즘도 존재 합니다.) 해당 알고리즘의 특징은 여러가지가 있지만 가장 큰 특징은 대부분의 상황에 적합/최적 알고리즘이란 것이죠. 아래는 몇 가지 특징입니다만
    <ul>
      <li><strong>사용 가능한 공간중 첫 번째 공간을 사용</strong></li>
      <li><strong>가장 최근 검색이 끝난 위치에서 시작</strong></li>
      <li><strong>Unsorted Chunk List</strong> 형태로 <strong>cache 처럼 동작</strong></li>
      <li>……</li>
      <li><strong>Anytime, Anywhere, Not Bad, So Good</strong></li>
    </ul>

    <p><strong>최소 적합 알고리즘</strong>은 해제된 Chunk list를 Cache형태로 관리 하며 동일 크기 또는 비슷한 크기의 할당 요청(<strong>malloc()</strong>)하면 bin에 저장된 해제된 Chunk list를 검색하여 사용 가능한 첫 번째 공간을 바로 할당 합니다.</p>
  </li>
</ol>

<p>아래 예제 코드로 테스트 해보겠슴돠!!</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(void)
{
    int* A;
    int* B;
    int* C;
    int* D;

    A = (int*)malloc(256);
    B = (int*)malloc(256);

    printf("1. malloc A addr &amp; data : %p, %#x\n", A, *A);

    *B = 0x1234abcd;
    printf("2. malloc B addr &amp; data : %p, %#x\n", B, *B);

    free(B);
    printf("[free malloc B]\n");

    C = (int*)malloc(256);
    printf("3. malloc C addr &amp; data : %p, %#x\n", C, *C);

    D = (int*)malloc(1024);
    printf("4. malloc D addr &amp; data : %p, %#x\n", D, *D);

    return 0;
}
</code></pre></div></div>

<p>A, B, C, D 포인터 생성하고 A와 B에 malloc(256)을 할당해주고 A의 주소와 데이터를 출력 합니다. 다음으로 B에 값을 입력해주고 마찬가지로 주소와 데이터를 출력해줍니다. 이번에는 B를 해제해주고 C를malloc(256) 항당하고 주소와 데이터를 출력합니다. 다음은 D의 malloc 을 할당 해주지만 용량을 1024로 증가시켜주고 주소와 데이터를 출력해주는 코드입니다.</p>

<p>위 코드를 실행할 경우 어떤 결과가 나올지 상상해보며 낭낭하게 직접 실행해 보겠습니다.</p>

<figure>
  <img data-action="zoom" src="/assets/images/linux/0x07/0x07-3.png" alt="[그림 7-3]" />
</figure>

<p>1번의 malloc  A의 주소와 데이터와 2번의 malloc B의 주소와 데이터를 보시면 다르다는걸 확인할 수 있습니다. 그다음 B를 해제해주고 같은 용량의 malloc C를 할당했을 때의 주소와 데이터를 확인하시면 B와 같음을 확인할 수 있으며 malloc D의 경우 용량이 달라지니깐 주소값도 데이터도 달라짐을 확인 가능합니다.</p>

<p>중요한건 B의 free 후에 생성된 동일 용량의 C를 확인 했을때 입니다. C를 같은 용량으로 할당만 했을뿐 데이터의 입력은 없었는데 이미 해제한 B의 데이터가 여전히 출력 됩니다.</p>

<p>위 예제로 <strong>포인터가 이미 해제된 영역을 여전히 가리키는 현상</strong>을 확인할 수 있습니다.
이러한 현상을 <strong>Dangling Pointer</strong>라고 부릅니다. (현실에는 없는 마음속의 공간이나 존재 하지 않는 상상속의 여친을 생각하세요……뭐요!?)
지금 알아보고 있는 <strong>UAF(Use After Free)</strong>는 <strong>Dangling Pointer</strong>를 재사용 함으로서 생기는 것이죠.</p>

<p>간단하게, 결국 <strong>UAF</strong>는 <strong>잘못된 포인터 관리로 생기는 취약점</strong>입니다.</p>

<p>말이 길어졌습니다만 어쨌든 Heap 영역에서 할당 받은 후 해제 시 해당 영역을 <strong>초기화</strong> 하지 않을 경우  데이터가 의도치 않게 계속 남아 있는 상태가 됩니다. 이 점과 지금껏 해왔던 것을 잘 짜집기 하면 원하는 방향으로 공격이 가능하지 않을까 싶습니다.</p>

<p>지금까지 장황하게 UAF에 대한 내용을 다뤄봤습니다.
다음 포스팅에서 이어서 실제 shell을 따도록 하겠습니다.
사실 이번 포스팅 작성 하다가 한 번 날려 먹어서 멘탈도 같이 날려 먹었습니다…..
그래서 두 편을 나누는건 아닙니다….급하게 마무리 하는듯 하지만 아닙니다…….뭐요?</p>

<p>빠른 시일내에 다음 포스팅 들고 뵙겠습니다.</p>

<p>수고하셨습니다.</p>

<p>뿅</p>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/images/CI_Logo.jpg" alt="Sulla" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/Sulla">Sulla</a></h4>
                                
                                    <p>ksh@linarena.com</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/Sulla">Read More</a>
                        </div>
                    
                
                    
                
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/images/lin_logo.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; LIN ARENA &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/posts/">Posts</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/windows-0x0e">CVE-2012-4782</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/linux_0x06">linux_0x06 Heap 구조(malloc, free)</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/windows-0x0d">Heap Spray</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/posts/">
                                
                                    See all 31 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/windows-0x0e">
                <div class="post-card-image" style="background-image: url(/assets/images/windows/0x0e_6.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/windows-0x0e">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Posts</span>
                            
                        
                    

                    <h2 class="post-card-title">CVE-2012-4782</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/CI_Logo.jpg" alt="Joel Park" />
                        
                        <span class="post-card-author">
                            <a href="/author/Joel/">Joel Park</a>
                        </span>
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="http://localhost:4000/">
            
            <span>LIN ARENA</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">linux_0x07 UAF(Use After Free) - 1부</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=linux_0x07+UAF%28Use+After+Free%29+-+1%EB%B6%80&amp;url=https://jekyller.github.io/jasper2/linux_0x07"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://jekyller.github.io/jasper2/linux_0x07"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:4000/">LIN ARENA</a> &copy; 2019</section>
                <section class="poweredby">All rights reserved. Powered by GitHub Pages.</section>
                <nav class="site-footer-nav">
                    <a href="/">[Latest Posts]</a>
                    <a href="https://linarena.com/" target="_blank" rel="noopener">[LIN ARENA HOMEPAGE]</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69281367-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
